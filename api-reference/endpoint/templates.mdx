---
title: 'Templates'
description: 'Gerencie seus modelos de mensagem (Templates) do WhatsApp diretamente via API'
---

# Gerenciamento de Templates

A API de Templates da Arara permite que voc√™ crie, liste e monitore o status de aprova√ß√£o dos seus modelos de mensagem. Nossa implementa√ß√£o √© focada em **Developer Experience**, abstraindo a complexidade da Meta e garantindo que seus templates sejam aprovados com valida√ß√µes inteligentes (Foolproof).

<Warning>
  A API de Templates √© exclusiva para o **Modo Produ√ß√£o (LIVE)**. Requisi√ß√µes em modo de teste retornar√£o erro 403.
</Warning>

---

## Criar um Template `POST /v1/templates`

Este endpoint cria um template na infraestrutura da Arara e o submete automaticamente para aprova√ß√£o da Meta.

### Exemplos de Uso

Para facilitar a integra√ß√£o, preparamos exemplos "copia e cola" para os cen√°rios mais comuns.

<AccordionGroup>
  <Accordion title="Texto Simples (B√°sico)">
    Ideal para notifica√ß√µes r√°pidas e diretas.
    
    ```json
    {
      "name": "notificacao_simples",
      "category": "UTILITY",
      "language": "pt_BR",
      "body": "Ol√° {{1}}, seu agendamento foi confirmado para {{2}}.",
      "samples": {
        "1": "Maria",
        "2": "14/05 √†s 15h"
      }
    }
    ```
  </Accordion>

  <Accordion title="Com Header e Footer">
    Adicione um t√≠tulo em negrito (Header) e um rodap√© discreto.
    
    ```json
    {
      "name": "resumo_pedido",
      "category": "UTILITY",
      "language": "pt_BR",
      "header": "Confirma√ß√£o de Pedido",
      "body": "Ol√° {{1}}, recebemos seu pedido #{{2}} com sucesso!",
      "footer": "Obrigado pela prefer√™ncia.",
      "samples": {
        "1": "Jo√£o",
        "2": "9988"
      }
    }
    ```
  </Accordion>

  <Accordion title="Bot√µes Quick Reply (Resposta R√°pida)">
    Permita que o usu√°rio responda com apenas um toque. M√°ximo de 3 bot√µes.
    
    ```json
    {
      "name": "pesquisa_satisfacao",
      "category": "MARKETING",
      "language": "pt_BR",
      "body": "Ol√°! O que achou do nosso atendimento?",
      "buttons": [
        { "type": "QUICK_REPLY", "text": "Amei! üòç" },
        { "type": "QUICK_REPLY", "text": "Foi bom üôÇ" },
        { "type": "QUICK_REPLY", "text": "Pode melhorar üòê" }
      ]
    }
    ```
  </Accordion>

  <Accordion title="Call to Action (Link + Telefone)">
    Direcione o usu√°rio para uma a√ß√£o externa.
    
    ```json
    {
      "name": "recuperacao_carrinho",
      "category": "MARKETING",
      "language": "pt_BR",
      "body": "Ei {{1}}, voc√™ esqueceu itens no carrinho! Volte agora e ganhe 5% OFF.",
      "buttons": [
        { 
          "type": "URL", 
          "text": "Finalizar Compra", 
          "url": "https://loja.com/carrinho" 
        },
        { 
          "type": "PHONE_NUMBER", 
          "text": "Ligar para Vendedor", 
          "phone": "+5511999999999" 
        }
      ],
      "samples": { "1": "Ana" }
    }
    ```
  </Accordion>

  <Accordion title="üèÜ Smart Link (Rastreia Cliques)">
    A "Killer Feature" da Arara. Encurta e rastreia quem clicou no link.
    
    ```json
    {
      "name": "oferta_relampago",
      "category": "MARKETING",
      "language": "pt_BR",
      "body": "Oferta imperd√≠vel para voc√™, {{1}}!",
      "buttons": [
        { 
          "type": "SMART_LINK", 
          "text": "Ver Oferta Exclusiva", 
          "url": "https://minhaloja.com/oferta/{{2}}" 
        }
      ],
      "samples": { 
        "1": "Carlos",
        "2": "promocao-verao" 
      }
    }
    ```
  </Accordion>
</AccordionGroup>

### Regras de Ouro (Anti-Rejei√ß√£o)

Para garantir que seu template seja aprovado rapidamente, aplicamos as seguintes regras:

1.  **Cabe√ßalho (Header)**: Deve conter apenas texto simples. Emojis e caracteres especiais complexos s√£o proibidos no header.
2.  **Bot√µes**: Voc√™ pode usar at√© 3 bot√µes de **Quick Reply** OU 1 bot√£o de **Link (URL/Smart Link)** + 1 bot√£o de **Telefone**. N√£o √© permitido misturar tipos.
3.  **Smart Links**: Utilize o tipo `SMART_LINK` em bot√µes de URL para que a Arara encurte e rastreie os cliques automaticamente.

---

## Listar Templates `GET /v1/templates`

Retorna todos os templates criados pela sua organiza√ß√£o.

| Par√¢metro | Tipo | Descri√ß√£o |
| :--- | :--- | :--- |
| `name` | query | (Opcional) Filtra um template espec√≠fico pelo nome exato. |

### Resposta

Retorna uma lista de objetos contendo o `providerStatus` (ex: `PENDING`, `APPROVED`, `REJECTED`) e o `variablesSchema` para ajudar no envio de mensagens.

---

## Consultar Status em Tempo Real `GET /v1/templates/{id}/status`

Embora a Arara atualize o status automaticamente via Webhook, voc√™ pode consultar manualmente o estado atual na Meta.

**Resposta em caso de rejei√ß√£o:**
```json
{
  "status": "REJECTED",
  "rejectionReason": "INCORRECT_CATEGORY",
  "category": "MARKETING"
}
```

---

## Deletar Template `DELETE /v1/templates/{id}`

Remove o template da base da Arara. 

<Info>
  A remo√ß√£o na Arara n√£o remove automaticamente o template fisicamente da conta WABA na Meta por quest√µes de hist√≥rico, mas impede novos envios atrav√©s deste ID.
</Info>

---

## Pr√≥ximos Passos

<CardGroup cols={2}>
  <Card title="Enviar Mensagem" icon="paper-plane" href="/api-reference/endpoint/messages">
    Aprenda a usar seus templates para enviar mensagens
  </Card>
  <Card title="Webhooks Universais" icon="satellite-dish" href="/api-reference/endpoint/webhook">
    Receba notifica√ß√µes de aprova√ß√£o de templates automaticamente
  </Card>
</CardGroup>
