---
title: 'Templates'
description: 'Gerencie seus modelos de mensagem (Templates) do WhatsApp diretamente via API'
---

# Gerenciamento de Templates

A API de Templates da Arara permite que voc√™ crie, liste e monitore o status de aprova√ß√£o dos seus modelos de mensagem. Nossa implementa√ß√£o √© focada em **Developer Experience**, abstraindo a complexidade da Meta e garantindo que seus templates sejam aprovados com valida√ß√µes inteligentes (Foolproof).

<Warning>
  A API de Templates √© exclusiva para o **Modo Produ√ß√£o (LIVE)**. Requisi√ß√µes em modo de teste retornar√£o erro 403.
</Warning>

---

## Criar um Template `POST /v1/templates`

Este endpoint cria um template na infraestrutura da Arara e o submete automaticamente para aprova√ß√£o da Meta.

### Payload de Exemplo

```json
{
  "name": "boas_vindas_v1",
  "category": "MARKETING",
  "language": "pt_BR",
  "header": "Bem-vindo √† Arara ü¶ú",
  "body": "Ol√° {{nome}}, seu pedido {{pedido}} foi confirmado!",
  "footer": "D√∫vidas? Entre em contato.",
  "buttons": [
    {
      "type": "SMART_LINK",
      "text": "Ver Pedido",
      "url": "https://meusite.com/pedidos/123"
    }
  ],
  "samples": {
    "nome": "Micael",
    "pedido": "98765"
  }
}
```

### Regras de Ouro (Anti-Rejei√ß√£o)

Para garantir que seu template seja aprovado rapidamente, aplicamos as seguintes regras:

1.  **Cabe√ßalho (Header)**: Deve conter apenas texto simples. Emojis e caracteres especiais complexos s√£o proibidos no header.
2.  **Bot√µes**: Voc√™ pode usar at√© 3 bot√µes de **Quick Reply** OU 1 bot√£o de **Link (URL/Smart Link)** + 1 bot√£o de **Telefone**. N√£o √© permitido misturar tipos.
3.  **Smart Links**: Utilize o tipo `SMART_LINK` em bot√µes de URL para que a Arara encurte e rastreie os cliques automaticamente.

---

## Listar Templates `GET /v1/templates`

Retorna todos os templates criados pela sua organiza√ß√£o.

| Par√¢metro | Tipo | Descri√ß√£o |
| :--- | :--- | :--- |
| `name` | query | (Opcional) Filtra um template espec√≠fico pelo nome exato. |

### Resposta

Retorna uma lista de objetos contendo o `providerStatus` (ex: `PENDING`, `APPROVED`, `REJECTED`) e o `variablesSchema` para ajudar no envio de mensagens.

---

## Consultar Status em Tempo Real `GET /v1/templates/{id}/status`

Embora a Arara atualize o status automaticamente via Webhook, voc√™ pode consultar manualmente o estado atual na Meta.

**Resposta em caso de rejei√ß√£o:**
```json
{
  "status": "REJECTED",
  "rejectionReason": "INCORRECT_CATEGORY",
  "category": "MARKETING"
}
```

---

## Deletar Template `DELETE /v1/templates/{id}`

Remove o template da base da Arara. 

<Info>
  A remo√ß√£o na Arara n√£o remove automaticamente o template fisicamente da conta WABA na Meta por quest√µes de hist√≥rico, mas impede novos envios atrav√©s deste ID.
</Info>

---

## Pr√≥ximos Passos

<CardGroup cols={2}>
  <Card title="Enviar Mensagem" icon="paper-plane" href="/api-reference/endpoint/send">
    Aprenda a usar seus templates para enviar mensagens
  </Card>
  <Card title="Webhooks Universais" icon="satellite-dish" href="/api-reference/endpoint/webhook">
    Receba notifica√ß√µes de aprova√ß√£o de templates automaticamente
  </Card>
</CardGroup>
